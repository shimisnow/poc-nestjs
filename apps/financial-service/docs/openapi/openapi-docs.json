{"openapi":"3.0.0","paths":{"/transaction":{"post":{"operationId":"TransactionController_createTransaction","summary":"Register a transaction","description":"This endpoint receives only positive values. For debt operations, the value will be automatically inverted","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionBodyDto"}}}},"responses":{"200":{"description":"Information about the created transaction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionSerializer"}}}},"400":{"description":"Error validating request input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionError400Serializer"}}}},"404":{"description":"Error when the account does not exist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionError404Serializer"}}}},"500":{"description":"The server has encountered a situation it does not know how to handle. See server logs for details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultError500Serializer"}}}},"502":{"description":"Internal data processing error. Probably a database error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultError502Serializer"}}}}},"tags":["transaction"]}},"/balance":{"get":{"operationId":"BalanceController_getBalance","summary":"Retrieves information from a given account","parameters":[{"name":"accountId","required":true,"in":"query","description":"Account ID","example":4225,"schema":{"minimum":1,"type":"number"}}],"responses":{"200":{"description":"Information about the account balance","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBalanceSerializer"}}}},"400":{"description":"Error validating request input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBalanceError400Serializer"}}}},"404":{"description":"Error when the account does not exist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBalanceError404Serializer"}}}},"500":{"description":"The server has encountered a situation it does not know how to handle. See server logs for details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultError500Serializer"}}}},"502":{"description":"Internal data processing error. Probably a database error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultError502Serializer"}}}}},"tags":["balance"]}}},"info":{"title":"Financial Service","description":"","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateTransactionBodyDto":{"type":"object","properties":{"accountId":{"type":"number","description":"Account ID","minimum":1,"example":4225},"type":{"type":"string","description":"Transaction type","enum":["debit","credit"],"example":"debit"},"amount":{"type":"number","description":"Transaction amount","minimum":0.01,"example":1500.34}},"required":["accountId","type","amount"]},"CreateTransactionSerializer":{"type":"object","properties":{"transactionId":{"type":"number","description":"Created transaction id","example":456}},"required":["transactionId"]},"CreateTransactionError400Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":400},"message":{"description":"","example":["accountId should not be empty"],"type":"array","items":{"type":"string"}},"error":{"type":"string","description":"HTTP error message","example":"Bad Request"}},"required":["statusCode","message","error"]},"CreateTransactionError404Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":404},"message":{"type":"string","description":"Error message","example":"The account does not exist"},"error":{"type":"string","description":"HTTP error message","example":"Not Found"}},"required":["statusCode","message","error"]},"DefaultError500Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":500},"message":{"type":"string","description":"Additional error message","example":"Cannot set properties of undefined"},"error":{"type":"string","description":"HTTP error message","example":"Internal Server Error"}},"required":["statusCode","message","error"]},"DefaultError502Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":502},"message":{"type":"string","description":"HTTP error message","example":"Bad Gateway"}},"required":["statusCode","message"]},"GetBalanceSerializer":{"type":"object","properties":{"balance":{"type":"number","description":"Updated account balance","example":1234.56}},"required":["balance"]},"GetBalanceError400Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":400},"message":{"description":"Error message","example":["accountId should not be empty"],"type":"array","items":{"type":"string"}},"error":{"type":"string","description":"HTTP error message","example":"Bad Request"}},"required":["statusCode","message","error"]},"GetBalanceError404Serializer":{"type":"object","properties":{"statusCode":{"type":"number","description":"HTTP code","example":404},"message":{"type":"string","description":"Error message","example":"The account does not exist"},"error":{"type":"string","description":"HTTP error message","example":"Not Found"}},"required":["statusCode","message","error"]}}}}